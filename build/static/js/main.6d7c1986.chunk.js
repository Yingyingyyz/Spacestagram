(this.webpackJsonpshopify_frontend_challenge_winter_2022=this.webpackJsonpshopify_frontend_challenge_winter_2022||[]).push([[0],{106:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),s=n(48),o=n(42),l=n.n(o),j=n(82),d=n(56),u=n(26),b=n(155),O=n(156),h=n(157),p=n(158),f=n(162),x=n(154),m=n(161),v=n(143),y=n(147),g=n(148),w=n(149),k=n(150),S=n(151),C=n(152),D=n(153),N=n(74),E=n.n(N),_=n(80),I=n.n(_),P=n(76),A=n.n(P),L=n(78),B=n.n(L),F=n(77),J=n.n(F),M=n(75),T=n.n(M),H=n(79),K=n.n(H),R=(n(106),n(6)),U=function(e){var t,n=e.date,c=e.explanation,r=e.url,i=e.title,s=e.copyright,o=JSON.parse(localStorage.getItem("likedPhotosLibrary")),l=Object(a.useState)(null!==(t=null===o||void 0===o?void 0:o[i])&&void 0!==t&&t),j=Object(u.a)(l,2),d=j[0],b=j[1],O=Object(a.useState)(!1),h=Object(u.a)(O,2),p=h[0],f=h[1],x=Object(a.useState)(null),m=Object(u.a)(x,2),N=m[0],_=m[1],P=Boolean(N),L=P?"simple-popover":void 0,F=function(){navigator.clipboard.writeText(r),document.dispatchEvent(new Event("successCopy"))};return Object(R.jsxs)(v.a,{className:"cardContent",style:{background:"#293858"},children:[Object(R.jsx)(y.a,{className:"imgElem",component:"img",image:r,title:i}),!p&&Object(R.jsxs)(g.a,{className:"btnsContent",children:[Object(R.jsxs)(w.a,{component:"h3",className:"title",children:[s,s&&" - ",i]}),Object(R.jsx)(w.a,{className:"date",children:n}),Object(R.jsx)(w.a,{variant:"body2",component:"p",className:"explanation",children:c})]}),Object(R.jsx)(k.a,{in:p,timeout:"auto",unmountOnExit:!0,children:Object(R.jsx)(g.a,{className:"btnsContent",children:Object(R.jsx)(w.a,{variant:"body2",component:"p",children:c})})}),Object(R.jsxs)(S.a,{disableSpacing:!0,className:"btnsContent",children:[Object(R.jsx)(C.a,{"aria-label":"liked",onClick:function(){try{var e;b(!d);var t=null!==(e=JSON.parse(localStorage.getItem("likedPhotosLibrary")))&&void 0!==e?e:{};t[i]=!d,localStorage.setItem("likedPhotosLibrary",JSON.stringify(t))}catch(n){console.error(new Error("Failed to save  photo likes."))}},children:Object(R.jsx)(E.a,{style:{color:d?"red":"white"}})}),Object(R.jsx)(C.a,{"aria-label":"share",style:{color:"#fff"},"aria-describedby":L,variant:"contained",onClick:function(e){_(e.currentTarget)},children:Object(R.jsx)(T.a,{})}),Object(R.jsx)(D.a,{id:L,open:P,anchorEl:N,onClose:function(){_(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(R.jsxs)("div",{children:[Object(R.jsx)(C.a,{"aria-label":"facebook",onClick:F,children:Object(R.jsx)(A.a,{})}),Object(R.jsx)(C.a,{"aria-label":"twitter",onClick:F,children:Object(R.jsx)(J.a,{})}),Object(R.jsx)(C.a,{"aria-label":"instagram",onClick:F,children:Object(R.jsx)(B.a,{})})]})}),Object(R.jsx)(C.a,{className:"showDetail",onClick:function(){return f(!p)},"aria-expanded":p,style:{color:"#fff"},children:p?Object(R.jsx)(K.a,{}):Object(R.jsx)(I.a,{})})]})]})},z="4jThRkUQuUnHrygjtR6hjekFuGKjmHjebmSX1HA8",G=function(e){try{return e.toISOString().substring(0,10)}catch(t){console.error(new Error("Invalid time !"))}};function Q(e,t){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nasa.gov/planetary/apod?api_key=".concat(z,"&start_date=").concat(G(t),"&end_date=").concat(G(n)));case 2:if(200!==(null===(a=e.sent)||void 0===a?void 0:a.status)){e.next=7;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent.filter((function(e){return"image"===(null===e||void 0===e?void 0:e.media_type)})).reverse());case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(81),V=n(17),W=n(159),Y=function(e){var t=e.startDate,n=e.onStartDateChange,a=e.endDate,c=e.onEndDateChange;return Object(R.jsx)(V.a,{utils:q.a,children:Object(R.jsxs)(x.a,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row"},children:[Object(R.jsx)(W.a,{style:{color:"#fff"},margin:"normal",id:"start-date-picker",label:"Start Date ",format:"MM/dd/yyyy",value:t,disableFuture:"true",onChange:n,KeyboardButtonProps:{"aria-label":"change start date"}}),Object(R.jsx)(W.a,{margin:"normal",id:"end-date-picker",label:"End Date ",format:"MM/dd/yyyy",value:a,onChange:c,disableFuture:"true",shouldDisableDate:function(e){return e<=t},KeyboardButtonProps:{"aria-label":"change end date"}})]})})};n(111);var Z=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(new Date((new Date).valueOf()-2592e6)),v=Object(u.a)(o,2),y=v[0],g=v[1],w=Object(a.useState)(new Date),k=Object(u.a)(w,2),S=k[0],C=k[1],D=Object(a.useState)(!0),N=Object(u.a)(D,2),E=N[0],_=N[1],I=Object(a.useState)(!1),P=Object(u.a)(I,2),A=P[0],L=P[1],B=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,Q(t,n);case 3:a=e.sent,i(Object(j.a)(a)),_(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){B(y,S)}),[y,S]),Object(a.useEffect)((function(){var e=function(){L(!0),setTimeout((function(){return L(!1)}),3e3)};return document.addEventListener("successCopy",e),function(){document.removeEventListener("successCopy",e)}}),[]);var F=function(e){return Object(R.jsx)(m.a,Object(s.a)({elevation:6,variant:"filled"},e))},J=function(e){var t=e.children,n=e.window,a=Object(b.a)({target:n?n():void 0});return Object(R.jsx)(O.a,{appear:!1,direction:"down",in:!a,children:t})};return Object(R.jsxs)("div",{className:"home",children:[Object(R.jsx)(J,Object(s.a)(Object(s.a)({},e),{},{children:Object(R.jsxs)(h.a,{className:"appBar",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("h2",{children:"Spacestagram"}),Object(R.jsx)("span",{children:"Brought to you by NASA's Astronomy Photo of the Day (APOD) API"})]}),Object(R.jsx)(Y,{startDate:y,endDate:S,onEndDateChange:function(e){C(e)},onStartDateChange:function(e){g(e)}})]})})),Object(R.jsxs)(p.a,{className:"container",children:[Object(R.jsx)(f.a,{open:A,children:Object(R.jsx)(F,{severity:"success",children:"Image URL successfully copied to clipboard!"})}),Object(R.jsx)(x.a,{direction:"row",justifyContent:"center",alignItems:"center",spacing:4,container:!0,children:r.map((function(e,t){return Object(R.jsx)(c.a.Fragment,{children:Object(R.jsx)(x.a,{item:!0,children:Object(R.jsx)(U,Object(s.a)({},e))})},t)}))}),Object(R.jsx)("div",{className:"loading",children:E&&Object(R.jsx)("h1",{children:"Loading..."})})]})]})};var $=function(){return Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(Z,{})})};i.a.render(Object(R.jsx)(R.Fragment,{children:Object(R.jsx)($,{})}),document.getElementById("root"))}},[[112,1,2]]]);
//# sourceMappingURL=main.6d7c1986.chunk.js.map